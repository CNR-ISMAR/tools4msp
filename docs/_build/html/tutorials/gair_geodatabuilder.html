

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Layer expression input &mdash; Tools4MSP modules 2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tools4MSP Coded Labels" href="../api/coded_labels.html" />
    <link rel="prev" title="Particle tracking module" href="qgis_partrac/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Tools4MSP modules
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules/muc/index.html">Maritime Use Conflict</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/cea/index.html">Cumulative Effects Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/partrac/index.html">Particle Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/governance/index.html">Governance analysis framework</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">How to use Modules through GAIR interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="gair_muc/index.html">MUC Module on GAIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="gair_cea/index.html">CEA Module on GAIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="qgis_partrac/index.html">Particle tracking module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Layer expression input</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-to-create-a-new-expression">How to create a new expression</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-case-study-with-your-expression">Run case study with your expression</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-check-or-edit-existing-expressions">How to check or edit existing expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#duplicate-expression">Duplicate expression</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reuse-the-layer-expression-in-multiple-case-study-run">Reuse the layer expression in multiple case study run</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Advanced:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/coded_labels.html">Tools4MSP Coded Labels</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Tools4MSP modules</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Layer expression input</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorials/gair_geodatabuilder.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="layer-expression-input">
<h1>Layer expression input<a class="headerlink" href="#layer-expression-input" title="Permalink to this headline">¶</a></h1>
<p>When managed from GAIR geoportal the modules can use as input either
layers already present inside the geoportal or different combination
of existing layers that are created by geodatabuilder tool an saved as <em>layer expressions</em></p>
<p>To create a new expression first select <code class="docutils literal notranslate"><span class="pre">geodatabuilder</span></code>
from <code class="docutils literal notranslate"><span class="pre">data</span></code> menu.</p>
<div class="figure align-center" id="gair-menu-data">
<img alt="Data menu of GAIR interface" src="../_images/GAIR_menu_data.png" />
<p class="caption"><span class="caption-number">Fig. 39 </span><span class="caption-text">Menu Data on GAIR interface</span><a class="headerlink" href="#gair-menu-data" title="Permalink to this image">¶</a></p>
</div>
<p>On the first page available layer expressions are listed</p>
<div class="figure align-center" id="gair-gdb-list">
<img alt="Geodatabuilder list of existing expressions" src="../_images/GAIR_gdbuilder_list.png" />
<p class="caption"><span class="caption-number">Fig. 40 </span><span class="caption-text">List of existing layer expressions</span><a class="headerlink" href="#gair-gdb-list" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="how-to-create-a-new-expression">
<span id="create-new-gd-exp"></span><h2>How to create a new expression<a class="headerlink" href="#how-to-create-a-new-expression" title="Permalink to this headline">¶</a></h2>
<p>Select the <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">expression</span></code> button from the expression list or select
<code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">geodatabuilder</span></code> entry from  <code class="docutils literal notranslate"><span class="pre">Data</span></code> Menu (<a class="reference internal" href="#gair-menu-data"><span class="std std-numref">Fig. 39</span></a>)</p>
<div class="figure align-center" id="gair-gdb-create">
<img alt="Geodatabuilder create expression interface" src="../_images/GAIR_gdbuilder_new_exp.png" />
<p class="caption"><span class="caption-number">Fig. 41 </span><span class="caption-text">Create expression interface</span><a class="headerlink" href="#gair-gdb-create" title="Permalink to this image">¶</a></p>
</div>
<p>The create expression interface contains the following items</p>
<ol class="arabic simple">
<li><p>Name of the layer expression yo’re going to create. This name will be showed in expression list</p></li>
<li><p>Drop-down list of existing case study, select here the case study you are going to run
(please note that both default and customized case studies are listed).</p></li>
<li><p>Description of the layer expression: a small text that describe this layer expression useful for other users</p></li>
<li><p>Expression builder: here is shown the expression components (layers, operators, numbers)
click on one item to reorder, change value or delete them.</p></li>
<li><p>Filters to narrow the layers list</p></li>
<li><p>Layers list: just click on the layer name to add it to the current
expression.</p></li>
<li><p>Operators: click on one of the operators to add it to the expression.</p></li>
<li><p>Save the current expression.</p></li>
</ol>
<p>Set Name, Description and Case study for your expression, then select
the layers you want to use from layers list and add operators or
integer values then click on <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">Expression</span></code>.</p>
<p>First of all compile Name and description for you expression (1)(3) and select case study module
in which it will be available (2).</p>
<p>Select the layers you’r going to use in your expression. At present time (2020-05)
you can choose this types of layer</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to technical reasons the layers list could be not complete
when loaded for the first time: please always use the <code class="docutils literal notranslate"><span class="pre">CLEAR</span></code> button
on filter mask (<a class="reference internal" href="#gdb-filter-clear"><span class="std std-numref">Fig. 42</span></a>) before set a new filter.</p>
<div class="figure align-center" id="gdb-filter-clear">
<img alt="GAIR geodatabuilder filter" src="../_images/GAIR_gdbuilder_filter_clear.png" />
<p class="caption"><span class="caption-number">Fig. 42 </span><span class="caption-text">GAIR geodatabuilder filter</span><a class="headerlink" href="#gdb-filter-clear" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="run-case-study-with-your-expression">
<h2>Run case study with your expression<a class="headerlink" href="#run-case-study-with-your-expression" title="Permalink to this headline">¶</a></h2>
<p>The layer expression you’ve just created will be listed after default
layers with a <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">Expression</span></code> control button.</p>
<div class="figure align-center" id="gair-gdb-exp-run">
<img alt="Layer expression listed in case study" src="../_images/GAIR_gdbuilder_exp_run.png" />
<p class="caption"><span class="caption-number">Fig. 43 </span><span class="caption-text">Layer expression listed in case study</span><a class="headerlink" href="#gair-gdb-exp-run" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="how-to-check-or-edit-existing-expressions">
<h2>How to check or edit existing expressions<a class="headerlink" href="#how-to-check-or-edit-existing-expressions" title="Permalink to this headline">¶</a></h2>
<p>To run a layer expression you need to have granted access to the expression object
and all the layer used by the expression.</p>
<p>Starting from the expression list (<a class="reference internal" href="#gair-gdb-list"><span class="std std-numref">Fig. 40</span></a>) find
the expression of your interest according to the expression title and
description.</p>
<p>Open the layer expression clicking on the <code class="docutils literal notranslate"><span class="pre">view</span> <span class="pre">expression</span></code> button
and the detail page will show:</p>
<div class="figure align-center" id="gair-gdb-detail">
<img alt="Geodatabuilder detail expression interface" src="../_images/GAIR_gdbuilder_exp_details.png" />
<p class="caption"><span class="caption-number">Fig. 44 </span><span class="caption-text">Detail expression interface</span><a class="headerlink" href="#gair-gdb-detail" title="Permalink to this image">¶</a></p>
</div>
<p>The detail interface presents the expression with layers and operators(1), the layers list (2) and
the case study which the expression is linked to (3). For information about he expression you can
contact the expression owner (4) by searching the username in <code class="docutils literal notranslate"><span class="pre">About</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">People</span></code> section.</p>
<p>You can quickly go to the case study from the expression detail page using the <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">case</span> <span class="pre">study</span></code> button.</p>
<div class="figure align-center" id="gair-gdb-viewcs">
<img alt="Direct link to case study" src="../_images/GAIR_gdbuilder_view_case_study.png" />
<p class="caption"><span class="caption-number">Fig. 45 </span><span class="caption-text">Direct link to case study</span><a class="headerlink" href="#gair-gdb-viewcs" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="duplicate-expression">
<h3>Duplicate expression<a class="headerlink" href="#duplicate-expression" title="Permalink to this headline">¶</a></h3>
<p>When you create a layer expression that you want to make available
with other users to properly run a default case study you will need to
replicate the same expression in more casa studies.
Follow this steps:</p>
<ol class="arabic simple">
<li><p>Copy the expression with layers and operator and save to a text file for reference</p></li>
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">expression</span> <span class="pre">button</span></code></p></li>
<li><p>Set expression name and description, please cite the source expression</p></li>
<li><p>Add layers and operators to recreate the same expression</p></li>
<li><p>Select the case stuty of your interests.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<div class="line-block">
<div class="line">The GAIR geoportal has an integrated user management system (see the <a class="reference external" href="https://www.portodimare.eu/static/docs/usage/accounts_user_profile/index.html">GAIR documentation</a>) and access to each layer expression can be granted or denied by the object’s owner or GAIR administrators.</div>
</div>
</div>
<p>In case one or more layers used in the expression are not available
(you dont’have acces to them or they’ve been deleted) you’ll se an error
inside the expression box:</p>
<div class="figure align-center" id="gair-gdb-error">
<img alt="Error on geodatabuilder: layer not accessible" src="../_images/GAIR_gdbuilder_error.png" />
<p class="caption"><span class="caption-number">Fig. 46 </span><span class="caption-text">Error on geodatabuilder: layer not accessible</span><a class="headerlink" href="#gair-gdb-error" title="Permalink to this image">¶</a></p>
</div>
<p>Please contact the layer expression owner ( <code class="docutils literal notranslate"><span class="pre">About</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">People</span></code> section) or
the GAIR administrators.</p>
<p>If you are the owner of the expression you  will be able to edit or remove the expression</p>
<div class="figure align-center" id="gair-gdb-edit">
<img alt="Geodatabuilder editable expression interface" src="../_images/GAIR_gdbuilder_exp_editable.png" />
<p class="caption"><span class="caption-number">Fig. 47 </span><span class="caption-text">Detail of editable expression interface</span><a class="headerlink" href="#gair-gdb-edit" title="Permalink to this image">¶</a></p>
</div>
<p>In <a class="reference internal" href="#gair-gdb-edit"><span class="std std-numref">Fig. 47</span></a> you can see the edit controls for <code class="docutils literal notranslate"><span class="pre">remove</span> <span class="pre">expression</span></code> (1) and <code class="docutils literal notranslate"><span class="pre">edit</span> <span class="pre">expression</span></code> (2).</p>
</div>
<div class="section" id="reuse-the-layer-expression-in-multiple-case-study-run">
<h3>Reuse the layer expression in multiple case study run<a class="headerlink" href="#reuse-the-layer-expression-in-multiple-case-study-run" title="Permalink to this headline">¶</a></h3>
<p>In case you need to reuse your expression in multiple case studies but you don’t need to share the
expression with other users follow this path:</p>
<ol class="arabic simple">
<li><p>create your layer expression and link it to your first module run (e.g. Slovenia-MUC)</p></li>
<li><p>run your first case study module as described in <a class="reference internal" href="gair_muc/index.html#tutorial-muc"><span class="std std-ref">MUC Module on GAIR</span></a> and <a class="reference internal" href="gair_cea/index.html#tutorial-cea"><span class="std std-ref">CEA Module on GAIR</span></a></p></li>
<li><p>edit your expression and link to next module case study you’re going to run</p></li>
<li><p>open the new module case study and you’ll find the layer expression among input layers</p></li>
</ol>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api/coded_labels.html" class="btn btn-neutral float-right" title="Tools4MSP Coded Labels" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="qgis_partrac/index.html" class="btn btn-neutral float-left" title="Particle tracking module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CNR-ISMAR

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>